<div class="grid">
	<div class="col-12">
		<div class="card">
			<h5>Organization List</h5>
			<p-table #dt1 [value]="orgInfoes" dataKey="id" [rows]="10" [loading]="loading" [rowHover]="true" styleClass="p-datatable-gridlines" [paginator]="true" [globalFilterFields]="['OrgName','OrgType','ParentOrgName','HospitalType','PackageName','OrgSuffix','OrgPrefix']" responsiveLayout="scroll">
				<ng-template pTemplate="caption">
					<div class="flex justify-content-end mb-3">
						<button *ngIf="client.OrgType=='SP'"  pButton icon="pi pi-plus" label="Add New"
						  (click)="addUpdateOrg(0)"></button>
					  </div>

					<div class="flex justify-content-between flex-column sm:flex-row">
						<button pButton label="Clear" class="p-button-outlined mb-2" icon="pi pi-filter-slash" (click)="clear(dt1)"></button>
						<span class="p-input-icon-left mb-2">
							<i class="pi pi-search"></i>
							<input pInputText type="text" #filter (input)="onGlobalFilter(dt1, $event)" placeholder="Search Keyword" class="w-full"/>
						</span>
					</div>
				</ng-template>
				<ng-template pTemplate="header">
					<tr>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Org Name
								<p-columnFilter type="text" field="OrgName" display="menu" placeholder="Search by Org Name"></p-columnFilter>
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Org Type
								<p-columnFilter type="text" field="OrgType" display="menu" placeholder="Search by Org Type"></p-columnFilter>
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Parent OrgName
								<p-columnFilter type="text" field="ParentOrgName" display="menu" placeholder="Search by Parent OrgName"></p-columnFilter>
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Hospital Type
								<p-columnFilter type="text" field="HospitalType" display="menu" placeholder="Search by Hospital Type"></p-columnFilter>
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Package Name
								<p-columnFilter type="text" field="PackageName" display="menu" placeholder="Search by Package Name"></p-columnFilter>
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Org Suffix
								<p-columnFilter type="text" field="OrgSuffix" display="menu" placeholder="Search by Org Suffix"></p-columnFilter>
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Org Prefix
								<p-columnFilter type="text" field="OrgPrefix" display="menu" placeholder="Search by Org Prefix"></p-columnFilter>
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Status
								
							</div>
						</th>
						<th style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								Action
								
							</div>
						</th>
					</tr>
				</ng-template>
				<ng-template pTemplate="body" let-org>
					<tr>
						<td>
							{{org.OrgName}}
						</td>
						<td>
							{{org.OrgType}}
						</td>
						<td>
							{{org.ParentOrgName}}
						</td>
						<td>
							{{org.HospitalType}}
						</td>
						<td>
							{{org.PackageName}}
						</td>
						<td>
							{{org.OrgSuffix}}
						</td>
						<td>
							{{org.OrgPrefix}}
						</td>
						<td>
							<span *ngIf="org.IsApproved === true"> Approved </span>
							<div *ngIf="org.IsApproved === false">
								Pending
								<span pButton pRipple (click)="approveOrg(org.OrgId)"
								class="p-button-secondary mr-2 assign-to-radiologist-option-btn" icon="pi pi-ellipsis-v"
								title="Assign study options"></span>
							</div>
						</td>
						<td>
							<button [ngStyle]="{ 'min-width': '100px' }" pButton icon="fa fa-pencil-square-o" class="ui-button-info"
							  title="Update user" label="Update" pButton (click)="addUpdateOrg(org.OrgId)"></button>
						  </td>

					</tr>
				</ng-template>
				<ng-template pTemplate="emptymessage">
					<tr>
						<td colspan="8">No Org found.</td>
					</tr>
				</ng-template>
				<ng-template pTemplate="loadingbody">
					<tr>
						<td colspan="8">Loading Org data. Please wait.</td>
					</tr>
				</ng-template>
    		</p-table>
		</div>

	</div>


</div>
<p-dialog header="{{ addUpdateOrgPopUpHeader }}" [(visible)]="displayAddUpdateOrgPopUp" [draggable]="false"
  [modal]="true" [responsive]="true" [minY]="70" (onHide)="close()" [maximizable]="false" [style]="{ width: '90vw' }"
  [breakpoints]="{ '960px': '75vw' }">
  <app-addupdate-orginfo [orgId]="inputOrgid" [btnText]="btnLabel" [isApproveBtn]="approvebtn"
    (response)="reload($event)" [countryList]="countryList" [gblAddress]="gblAddress"
    [loaderVisible]="loaderVisible"></app-addupdate-orginfo>
</p-dialog>